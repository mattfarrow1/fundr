# fundr

The goal of `fundr` is to provide lightweight, tidyverse-compatible
utilities for fundraising and advancement analytics, with minimal
required dependencies.

## Installation

You can install the development version of fundr from
[GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("mattfarrow1/fundr")
```

## Features

### Fiscal Year Helpers

Convert dates to fiscal year representations. Default fiscal year starts
in July (month 7).

``` r
library(fundr)

dates <- as.Date(c("2024-06-30", "2024-07-01"))

fy_year(dates)
#> [1] 2024 2025

fy_label(dates)
#> [1] "FY24" "FY25"

fy_quarter(dates)
#> [1] 4 1
```

### Currency Formatting

Format numbers as currency with proper thousands separators. Use compact
notation for large values.

``` r
format_currency(1234567)
#> [1] "$1,234,567"

format_currency(-500)
#> [1] "($500)"

format_currency_short(c(1500, 50000, 2500000))
#> [1] "$1.5K" "$50K" "$2.5M"

format_pct(0.4567)
#> [1] "45.7%"
```

### Donor Analytics

Classify donors based on giving history and calculate engagement
metrics.

``` r
# Donor status classification
dates <- as.Date(c("2024-09-15", "2024-03-01", "2022-01-15", NA))
donor_status(dates, as_of = as.Date("2025-01-15"))
#> [1] Active LYBUNT SYBUNT Never
#> Levels: Active < LYBUNT < SYBUNT < Lapsed < Never

# Calculate age
calc_age(as.Date("1980-06-15"), as_of = as.Date("2024-06-01"))
#> [1] 43

# Years since last gift
years_since(as.Date("2020-06-15"), as_of = as.Date("2024-06-15"))
#> [1] 4
```

### Data Normalization

Clean and standardize phone numbers and ZIP codes.

``` r
normalize_phone(c("(555) 123-4567", "555.987.6543", "1-800-555-0199"))
#> [1] "555-123-4567" "555-987-6543" "800-555-0199"

normalize_zip(c("12345-6789", "12345", "1234"))
#> [1] "12345" "12345" NA
```

### Gift Level Bucketing

Map gift amounts to categorical levels using built-in reference data.

``` r
bucket_gift_level(c(500, 5000, 50000, 1000000))
#> [1] $1-$999 $1,000-$9,999 $10,000-$99,999 $1,000,000+
```

### ggplot2 Integration

Color palettes, currency scales, and a custom theme (requires ggplot2).

``` r
library(ggplot2)

ggplot(mtcars, aes(wt, mpg)) +
geom_point() +
scale_y_currency(short = TRUE) +
theme_fundr()
```

### Additional Utilities

- **Date utilities**:
  [`date_interval()`](https://mattfarrow1.github.io/fundr/reference/date_interval.md),
  [`bucket_recency()`](https://mattfarrow1.github.io/fundr/reference/bucket_recency.md),
  [`last_weekday()`](https://mattfarrow1.github.io/fundr/reference/last_weekday.md)
- **File helpers**:
  [`latest_file()`](https://mattfarrow1.github.io/fundr/reference/latest_file.md),
  [`read_latest()`](https://mattfarrow1.github.io/fundr/reference/read_latest.md)
- **Case conversion**:
  [`to_snake_case()`](https://mattfarrow1.github.io/fundr/reference/to_snake_case.md),
  [`to_title_case()`](https://mattfarrow1.github.io/fundr/reference/to_title_case.md),
  [`convert_names()`](https://mattfarrow1.github.io/fundr/reference/convert_names.md)
- **SKY API**:
  [`sky_connect()`](https://mattfarrow1.github.io/fundr/reference/sky_connect.md),
  [`sky_get()`](https://mattfarrow1.github.io/fundr/reference/sky_get.md)
  for Blackbaud integration
- **Database helpers**:
  [`db_connect()`](https://mattfarrow1.github.io/fundr/reference/db_connect.md),
  [`db_query()`](https://mattfarrow1.github.io/fundr/reference/db_query.md)
  for SQL Server, PostgreSQL, MySQL, SQLite

# Package index

## All functions

- [`bucket_gift_level()`](https://mattfarrow1.github.io/fundr/reference/bucket_gift_level.md)
  : Bucket gift ask amounts using fundr_gift_levels
- [`bucket_rating_level()`](https://mattfarrow1.github.io/fundr/reference/bucket_rating_level.md)
  : Bucket wealth/capacity values using fundr_rating_levels
- [`bucket_recency()`](https://mattfarrow1.github.io/fundr/reference/bucket_recency.md)
  : Bucket dates by recency
- [`calc_age()`](https://mattfarrow1.github.io/fundr/reference/calc_age.md)
  : Calculate age from birthdate
- [`calc_age_partial()`](https://mattfarrow1.github.io/fundr/reference/calc_age_partial.md)
  : Calculate age from partial birthdate
- [`comment_block()`](https://mattfarrow1.github.io/fundr/reference/comment_block.md)
  : Format text as a code block comment
- [`comment_divider()`](https://mattfarrow1.github.io/fundr/reference/comment_divider.md)
  : Format text as a section divider
- [`comment_header()`](https://mattfarrow1.github.io/fundr/reference/comment_header.md)
  : Format text as a simple comment header
- [`consecutive_giving_years()`](https://mattfarrow1.github.io/fundr/reference/consecutive_giving_years.md)
  : Calculate consecutive years of giving
- [`convert_names()`](https://mattfarrow1.github.io/fundr/reference/convert_names.md)
  : Convert data frame column names
- [`date_interval()`](https://mattfarrow1.github.io/fundr/reference/date_interval.md)
  : Calculate time interval between dates
- [`date_precision()`](https://mattfarrow1.github.io/fundr/reference/date_precision.md)
  : Extract precision level from partial date string
- [`db_connect()`](https://mattfarrow1.github.io/fundr/reference/db_connect.md)
  : Create database connection
- [`db_query()`](https://mattfarrow1.github.io/fundr/reference/db_query.md)
  : Execute a query and return results
- [`db_test()`](https://mattfarrow1.github.io/fundr/reference/db_test.md)
  : Test database connection
- [`donor_status()`](https://mattfarrow1.github.io/fundr/reference/donor_status.md)
  : Classify donor status based on giving history
- [`format_currency()`](https://mattfarrow1.github.io/fundr/reference/format_currency.md)
  : Format numbers as currency
- [`format_currency_short()`](https://mattfarrow1.github.io/fundr/reference/format_currency_short.md)
  : Format currency in compact notation
- [`format_pct()`](https://mattfarrow1.github.io/fundr/reference/format_pct.md)
  : Format numbers as percentages
- [`fundr_colors()`](https://mattfarrow1.github.io/fundr/reference/fundr_colors.md)
  : fundr colors
- [`fundr_gift_levels`](https://mattfarrow1.github.io/fundr/reference/fundr_gift_levels.md)
  : Gift level reference table
- [`fundr_pal()`](https://mattfarrow1.github.io/fundr/reference/fundr_pal.md)
  : Palette function for ggplot2 discrete scales
- [`fundr_palette()`](https://mattfarrow1.github.io/fundr/reference/fundr_palette.md)
  : fundr palettes
- [`fundr_rating_levels`](https://mattfarrow1.github.io/fundr/reference/fundr_rating_levels.md)
  : Rating level reference table
- [`fundr_setup()`](https://mattfarrow1.github.io/fundr/reference/fundr_setup.md)
  : Configure R session for fundraising analytics
- [`fundr_use_google_font()`](https://mattfarrow1.github.io/fundr/reference/fundr_use_google_font.md)
  : Ensure a Google Font is available for plotting
- [`fy_label()`](https://mattfarrow1.github.io/fundr/reference/fy_label.md)
  : Fiscal year label for a date
- [`fy_quarter()`](https://mattfarrow1.github.io/fundr/reference/fy_quarter.md)
  : Fiscal quarter for a date
- [`fy_year()`](https://mattfarrow1.github.io/fundr/reference/fy_year.md)
  : Fiscal year for a date
- [`get_fy_start_month()`](https://mattfarrow1.github.io/fundr/reference/get_fy_start_month.md)
  : Get default fiscal year start month
- [`is_within()`](https://mattfarrow1.github.io/fundr/reference/is_within.md)
  : Check if date is within a time period
- [`last_weekday()`](https://mattfarrow1.github.io/fundr/reference/last_weekday.md)
  : Find most recent occurrence of a weekday
- [`latest_file()`](https://mattfarrow1.github.io/fundr/reference/latest_file.md)
  : Find the most recent file in a folder
- [`legend_bottom()`](https://mattfarrow1.github.io/fundr/reference/legend_bottom.md)
  : Move legend to bottom of plot
- [`legend_position()`](https://mattfarrow1.github.io/fundr/reference/legend_position.md)
  : Move legend to a specific position
- [`list_recent_files()`](https://mattfarrow1.github.io/fundr/reference/list_recent_files.md)
  : List files sorted by modification time
- [`next_weekday()`](https://mattfarrow1.github.io/fundr/reference/next_weekday.md)
  : Find next occurrence of a weekday
- [`normalize_phone()`](https://mattfarrow1.github.io/fundr/reference/normalize_phone.md)
  : Normalize phone numbers
- [`normalize_zip()`](https://mattfarrow1.github.io/fundr/reference/normalize_zip.md)
  : Normalize postal (ZIP) codes
- [`` `%notin%` ``](https://mattfarrow1.github.io/fundr/reference/notin.md)
  [`` `%!in%` ``](https://mattfarrow1.github.io/fundr/reference/notin.md)
  : Not in operator
- [`parse_partial_date()`](https://mattfarrow1.github.io/fundr/reference/parse_partial_date.md)
  : Parse partial dates (year-only or year-month)
- [`read_latest()`](https://mattfarrow1.github.io/fundr/reference/read_latest.md)
  : Read the most recent file in a folder
- [`scale_colour_fundr()`](https://mattfarrow1.github.io/fundr/reference/scale_colour_fundr.md)
  [`scale_color_fundr()`](https://mattfarrow1.github.io/fundr/reference/scale_colour_fundr.md)
  : Discrete colour scale using fundr palettes
- [`scale_fill_fundr()`](https://mattfarrow1.github.io/fundr/reference/scale_fill_fundr.md)
  : Discrete fill scale using fundr palettes
- [`scale_x_currency()`](https://mattfarrow1.github.io/fundr/reference/scale_x_currency.md)
  : Currency scale for ggplot2 x-axis
- [`scale_y_currency()`](https://mattfarrow1.github.io/fundr/reference/scale_y_currency.md)
  : Currency scale for ggplot2 y-axis
- [`set_fy_start_month()`](https://mattfarrow1.github.io/fundr/reference/set_fy_start_month.md)
  : Set default fiscal year start month
- [`sky_connect()`](https://mattfarrow1.github.io/fundr/reference/sky_connect.md)
  : Create SKY API connection
- [`sky_get()`](https://mattfarrow1.github.io/fundr/reference/sky_get.md)
  : Make GET request to SKY API
- [`sky_get_all()`](https://mattfarrow1.github.io/fundr/reference/sky_get_all.md)
  : Get all pages from SKY API endpoint
- [`sky_test()`](https://mattfarrow1.github.io/fundr/reference/sky_test.md)
  : Test SKY API connection
- [`theme_fundr()`](https://mattfarrow1.github.io/fundr/reference/theme_fundr.md)
  : fundr ggplot theme
- [`to_camel_case()`](https://mattfarrow1.github.io/fundr/reference/to_camel_case.md)
  : Convert strings to camelCase
- [`to_snake_case()`](https://mattfarrow1.github.io/fundr/reference/to_snake_case.md)
  : Convert strings to snake_case
- [`to_title_case()`](https://mattfarrow1.github.io/fundr/reference/to_title_case.md)
  : Convert strings to Title Case
- [`total_giving_years()`](https://mattfarrow1.github.io/fundr/reference/total_giving_years.md)
  : Calculate total years of giving
- [`weekday_name()`](https://mattfarrow1.github.io/fundr/reference/weekday_name.md)
  : Get weekday name from date
- [`years_since()`](https://mattfarrow1.github.io/fundr/reference/years_since.md)
  : Calculate years since a date

# Articles

### All vignettes

- [Bucketing gift levels and rating
  levels](https://mattfarrow1.github.io/fundr/articles/bucketing-levels.md):
