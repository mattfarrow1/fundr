% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/database.R
\name{db_query}
\alias{db_query}
\title{Execute a query and return results}
\usage{
db_query(conn, query, params = NULL, disconnect = FALSE)
}
\arguments{
\item{conn}{A DBI connection object.}

\item{query}{SQL query string.}

\item{params}{Named list of parameters for parameterized queries.}

\item{disconnect}{If TRUE, disconnects after query. Default FALSE.}
}
\value{
Data frame of query results.
}
\description{
A convenience wrapper that executes a query and returns the results
as a data frame. Handles connection cleanup automatically if
\code{disconnect = TRUE}.
}
\examples{
\dontrun{
conn <- db_connect(driver = "sqlite", database = "donors.db")

# Simple query
donors <- db_query(conn, "SELECT * FROM donors WHERE status = 'Active'")

# Parameterized query (prevents SQL injection)
donors <- db_query(conn, "SELECT * FROM donors WHERE id = ?id",
                   params = list(id = 123))

DBI::dbDisconnect(conn)
}

}
